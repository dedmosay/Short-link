[{"C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\index.js":"1","C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\App.js":"2","C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\routes.js":"3","C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\context\\AuthContext.js":"4","C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\hooks\\auth.hook.js":"5","C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\pages\\DetailPage.js":"6","C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\pages\\CreatePage.js":"7","C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\pages\\LinksPage.js":"8","C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\pages\\AuthPage.js":"9","C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\hooks\\message.hook.js":"10","C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\hooks\\http.hook.js":"11"},{"size":182,"mtime":1612178080872,"results":"12","hashOfConfig":"13"},{"size":1207,"mtime":1612178080867,"results":"14","hashOfConfig":"13"},{"size":987,"mtime":1612178080879,"results":"15","hashOfConfig":"13"},{"size":214,"mtime":1612178080869,"results":"16","hashOfConfig":"13"},{"size":1023,"mtime":1612178080869,"results":"17","hashOfConfig":"13"},{"size":152,"mtime":1612178080874,"results":"18","hashOfConfig":"13"},{"size":4489,"mtime":1613137475155,"results":"19","hashOfConfig":"13"},{"size":150,"mtime":1612178080878,"results":"20","hashOfConfig":"13"},{"size":4299,"mtime":1612178080873,"results":"21","hashOfConfig":"13"},{"size":207,"mtime":1612178080871,"results":"22","hashOfConfig":"13"},{"size":1297,"mtime":1612178080870,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"c8cq90",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\index.js",[],["48","49"],"C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\App.js",[],"C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\routes.js",[],"C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\context\\AuthContext.js",[],"C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\hooks\\auth.hook.js",[],"C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\pages\\DetailPage.js",[],"C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\pages\\CreatePage.js",["50"],"import React from 'react';\r\nimport Peer from 'peerjs';\r\nimport $ from 'jquery';\r\nimport uid from 'uid';\r\nimport io from 'socket.io-client';\r\nimport \"./style.css\";\r\n\r\nexport const CreatePage = () => {\r\n    const NEW_PEER_ID = 'NEW_PEER_ID';\r\n    const ONLINE_PEER_ARRAY = 'ONLINE_PEER_ARRAY';\r\n    const NEW_CLIENT_CONNECT = 'NEW_CLIENT_CONNECT';\r\n    const SOMEONE_DISCONNECTED = 'SOMEONE_DISCONNECTED';\r\n\r\n    const LOCAL = \"http://localhost:5000/\";\r\n    const HEROKU_H = \"home-learning.herokuapp.com\";\r\n\r\n    const socket = io(HEROKU_H);\r\n\r\n    const CONFIG_PEER = {\r\n        host: 'jkq.herokuapp.com',\r\n        port: 443,\r\n        secure: true,\r\n    }\r\n\r\n    const peerId =  getPeer();\r\n    function getPeer(){\r\n        const id = uid(2)\r\n        return id;\r\n    }\r\n\r\n    socket.emit(NEW_PEER_ID, peerId)\r\n    \r\n    socket.on(ONLINE_PEER_ARRAY, arrPeerId => {\r\n        arrPeerId.forEach(id => {\r\n            $('#ulPeer').append(`<li id=\"${id}\">${id} </li>`) \r\n        })\r\n    });    \r\n    \r\n    socket.on(NEW_CLIENT_CONNECT, id => {\r\n           $('#ulPeer').append(`<li id=\"${id}\">${id} </li>`) \r\n        })\r\n\r\n    socket.on(SOMEONE_DISCONNECTED, peerId => {\r\n        $(`#${peerId}`).remove();\r\n    });\r\n    \r\n    const peer = new Peer(peerId, CONFIG_PEER );\r\n\r\n        function btnCall(){\r\n            \r\n            const frienId = $('#txtFrienId').val();\r\n             $('#ulCallFrien').append(`<li>Звонок ${frienId}  </li>`)\r\n            openStream(stream=>{\r\n                playVideo(stream, 'localStream');\r\n                const call = peer.call(frienId, stream \r\n                    ,{\r\n                        videoCodec: 'H264',\r\n                        audioReceiveEnabled: true,\r\n                      }\r\n                    );\r\n                call.on('stream', remoteStream => playVideo(remoteStream, 'friendStream'))\r\n            })\r\n        }\r\n        \r\n        function openStream(cb) {\r\n            const constraints = { audio: false, video: { width: 1280, height: 720 } };\r\n            navigator.mediaDevices.getUserMedia( constraints )\r\n            .then(stream => { \r\n                cb(stream) \r\n            })\r\n            .catch(err => {\r\n                console.log('ERROR:', err)\r\n            })\r\n        } \r\n    \r\n        function playVideo(stream, idVideo) {\r\n            const video = document.getElementById(idVideo)\r\n            video.srcObject = stream;\r\n            video.onloadedmetadata = function(){   \r\n                video.play();\r\n                console.log(stream);\r\n            }\r\n        }\r\n\r\n        peer.on('call', (call)=>{\r\n            openStream(stream => {\r\n                playVideo (stream, 'localStream');\r\n                call.answer(stream);\r\n                call.on('stream', remoteStream => playVideo(remoteStream, 'friendStream'))\r\n            });\r\n        });\r\n    \r\n    return (\r\n            <div className=\"inter\">\r\n                <div className=\"row\">\r\n                    <ul> \r\n                        <div className=\"col l9 s14\">  \r\n                            <div className=\"container\" style={{marginBottom: 10}}>     \r\n                                <h5> Мой id:  {peer.id} </h5> \r\n                                <div className='videos'>\r\n                                    <video  id=\"localStream\" className=\"my-video\"></video>\r\n                                    <video  id=\"friendStream\" className=\"user-video\"></video>\r\n                                </div>\r\n                                <br></br>\r\n                                <input type=\"text\" placeholder=\"Чтобы позвонить преподавателю, вставьте его ID\" id=\"txtFrienId\"></input>\r\n                                <br></br>\r\n                                <input type=\"submit\" onClick={()=>btnCall()} value=\"Вызов\" />\r\n                            </div>\r\n                        </div>\r\n                    </ul>\r\n                    <ul>\r\n                        <div className=\"container\" style={{marginBottom: 10}}>    \r\n                            <ul> \r\n                                <h5> Online: </h5>\r\n                                <li id=\"ulPeer\"></li>\r\n                            </ul>\r\n                        </div>\r\n                    </ul> \r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n// import React from 'react';\r\n\r\n// export const CreatePage = () => {\r\n//     return (\r\n//         <div>\r\n//             <h1>Create Page</h1>\r\n//         </div>\r\n//     )\r\n// }","C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\pages\\LinksPage.js",[],"C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\pages\\AuthPage.js",[],"C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\hooks\\message.hook.js",[],"C:\\Users\\Oleg\\Documents\\git\\Short-link\\MERN\\client\\src\\hooks\\http.hook.js",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":14,"column":11,"nodeType":"57","messageId":"58","endLine":14,"endColumn":16},"no-native-reassign",["59"],"no-negated-in-lhs",["60"],"no-unused-vars","'LOCAL' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]